# Инструкция по сборке и запуску микросервисов с помощью  Docker Compose

Сборка контейнеров осуществляется с помощью Docker Compose командой `docker compose build` в терминале открытом для расположения данного  файла docker compose.
Обязательным условием для запуска является наличие в одной директории с файлом docker compose папки log содержащей файл metric.log. В данном файле должна хотя бы одна строка - строка заголовок вида: `id,y_true,y_pred,absolute_procentage_error`. 
Кроме того необходимо в папку features/src/data распаковать архив с данными, ссылка на который приведена в файле link_for_data.md в папке data.
Запуск микросервисов после сборки контейнеров производится командой `docker compose up -d` в терминале открытом для расположения данного файла docker compose. Взаимодействие контейнеров организовано через менеджер очередей RabbitMQ. Его образ будет загружен с Docker Hub. После загрузки произойдет последовательный запуск микросервисов в контейнерах. 
В результате в папке log появятся (если их ещё не было), либо продолжат заполняться файл lables_log.txt с логами отправки значений y_pred, y_true и файл error_distribution.png с гистограммой метрики МАРЕ. А файл metric_log.csv начнет/продолжит заполняться значениями правильный и предсказанных ответов и расчитанной для них метрикой МАРЕ.
Для остановки микросервисов используем в терминале команду `docker compose down`.